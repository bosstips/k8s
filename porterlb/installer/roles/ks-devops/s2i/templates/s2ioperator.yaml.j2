apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  creationTimestamp: null
  name: mutating-webhook-configuration
  namespace: kubesphere-devops-system
webhooks:
- clientConfig:
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZoekNDQTIrZ0F3SUJBZ0lKQUpieDVoc0JpM1pkTUEwR0NTcUdTSWIzRFFFQkN3VUFNRm94Q3pBSkJnTlYKQkFZVEFrRlZNUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEV6QVJCZ05WQkFNTUNrdFZRa1ZUVUVoRlVrVXdIaGNOTWpFd05ESTJNRFl3Ck9EUTRXaGNOTWpRd01qRTBNRFl3T0RRNFdqQmFNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0F3S1UyOXQKWlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNUk13RVFZRApWUVFEREFwTFZVSkZVMUJJUlZKRk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCjBKblhwL2VMVG5GTk5CeldsK2tGaXlqTEFmMHZVaFUzZFh2bFlKK3lUUWN6eDB1Y0hBR1k4bmJuaEI0OXM5dkgKejFUVjlBUDYwK0RISG1teTU3d2lNL202YnFQMWUwajJBYko0dnVvYXV2ZkVmVzZaalE0RmZjWUg4Vko4bnNrcwpaTmlKQUkvSFg0WTBpdHFXTkczMWZyb3ZqeGRKM1Q3RUpqd3p4clRNaVJ1UEw5WW1FcktEUWlTSXN1ZVBJNUwrCkNJZ0FQZFZWU2JGM3QraW9JWXlRWm01bDcvSFk3dXliWW42eDRBd04zU2dHOFYwVVhERVYyMVhjTXBSaE9GalUKN0NiTnQ3YXJLSU1RY3J0RVFSN1g1STdaYlFtcExLZzNQb0I5UUhCQ2pJSXVIWGdUeWs2SzR2OU9uanpKc1orTgptZHl1STlHOXkwQURiUllwY09UM2RuQk1FeTFUcGFxMGZPZldxTmhlNEYydzdXVGo2U2tZbEkyOFNURldBaWdhCnhPd3dZMFhqOVZBdVVpWC9INjlCS2NZT0owalhkSGNVcUdjbDRvbHg2MnJhTTV1WmZxZWpXcERHS1psUXpDZEYKR29vU2syNlNzcGlaMkljT3dvZXB6MUNWQ00wOEd2UkhFVWNTYTVaaEJacEM1Q2dtaHFMUWhQUXZLeXBYM0FzNgo1a29nOSthUndTS3FLSUw5ODM5YTZCSUx3VzVMM1VTVUxyR0J0alk4c2ZiWlVJbm5TTzhRREQwdHNVbWZGYWRJCk5Lc0ZjamhveWdhVEd2WFh1SXc5WDVJcEFrY1dXNnFBQWsrNE1jOTk5ZVZHZWoxQlZrbDFlQ2JMbTdUUW4xVUQKcFNMb2tvOUFuRGZtVEUxUi9uWUw2QW9TUnh1SVVKUENtUVdvYnFKRlZzVUNBd0VBQWFOUU1FNHdIUVlEVlIwTwpCQllFRk5TL252TkE2TVUrUURTYmdaRnJTeWVxdDI3aE1COEdBMVVkSXdRWU1CYUFGTlMvbnZOQTZNVStRRFNiCmdaRnJTeWVxdDI3aE1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUdKVnk3Uk4KcUl5bFIyRTcyNkxkc044SWQ4MHBIM0oxNnVGSXhmeXpUZmtYL09HS2ZSUG1TbXZhRW9QMVR5eXIvYnFLTDBTWAp2VmpweHlmd3R0ZUV1NE5DZ3BScXl3NzRzQ1Q4WStzRzc2aHZwNzE3blNORUhnMzVRcEhjejBFWjFuMzF1TURSCmVkd2tzMHRUd250R3hHeW1YYmVJaW1uV3p5SW10T0FuRGNDelYzSStzRGNWN3hPVEJoc2hVd1c4dG1nTHBrU08KWllSUE1jamhFd0lrRXdaZ3lheFZmQko3dGNKN3dpYVlrZFpIWFA4TkpBNU42VHBGRUQ1em9UM2NDa0Myb0dVZwpRbm8rQUlBNW9KUzJVSUFka3BKMHl6ZEw5V1lITThlUUQrRnM3QWJnemU2Z1NSblNkWFFuTFN4M29sekNQTkthCnBRM25wVUxuU3hVZHA2S3JGVVBnVmJuV3hkQXhCclQzYzEwVDdXaXA0M1pRTUFqWE9MZ1o5SjgzdWQzT0x4elgKQ3p4MGZLS1ozM1kvRHZQSzJMY2ZydUVnQ1d4UWh3UUNnS3JrZFBuNjk1a0J1Y2NxU1YyMCthdjBIeVVQRWxObgpZRG9qRXF2dVh2bEwyTEk1ekkrNmVscHl2UTdyNnZ1S0ZnanlNcG9RMGJTVkFDUlZDdklqZi8vMDFocGVYclI0CmZtZlVyUEczbXNiTnJJakxtcm5ZSGNuQjkvVUE0ZWpDSTRXRWZzcENFcFJ0N0F1M2tsMi94Vk50cVhnT1MyTnAKTlIyeEYwQTdWRmd0YngyeDZ6dy9XVWtSSTR1Z0d1NzlOdDFPdk0rRC9YNzdKeWtOSWppekpGSGFGV0NPdWgzUQpqRjlGUjBuVGlHZ3R5SmtIdWJqS01kOFlCdTlTOXEwSGdHT20KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    service:
      name: webhook-server-service
      namespace: kubesphere-devops-system
      path: /mutate-devops-kubesphere-io-v1alpha1-s2ibuilder
  failurePolicy: Fail
  name: s2ibuilder.kb.io
  rules:
  - apiGroups:
    - devops.kubesphere.io
    apiVersions:
    - v1alpha1
    operations:
    - CREATE
    - UPDATE
    resources:
    - s2ibuilders
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  creationTimestamp: null
  name: validating-webhook-configuration
  namespace: kubesphere-devops-system
webhooks:
- clientConfig:
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZoekNDQTIrZ0F3SUJBZ0lKQUpieDVoc0JpM1pkTUEwR0NTcUdTSWIzRFFFQkN3VUFNRm94Q3pBSkJnTlYKQkFZVEFrRlZNUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEV6QVJCZ05WQkFNTUNrdFZRa1ZUVUVoRlVrVXdIaGNOTWpFd05ESTJNRFl3Ck9EUTRXaGNOTWpRd01qRTBNRFl3T0RRNFdqQmFNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0F3S1UyOXQKWlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNUk13RVFZRApWUVFEREFwTFZVSkZVMUJJUlZKRk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCjBKblhwL2VMVG5GTk5CeldsK2tGaXlqTEFmMHZVaFUzZFh2bFlKK3lUUWN6eDB1Y0hBR1k4bmJuaEI0OXM5dkgKejFUVjlBUDYwK0RISG1teTU3d2lNL202YnFQMWUwajJBYko0dnVvYXV2ZkVmVzZaalE0RmZjWUg4Vko4bnNrcwpaTmlKQUkvSFg0WTBpdHFXTkczMWZyb3ZqeGRKM1Q3RUpqd3p4clRNaVJ1UEw5WW1FcktEUWlTSXN1ZVBJNUwrCkNJZ0FQZFZWU2JGM3QraW9JWXlRWm01bDcvSFk3dXliWW42eDRBd04zU2dHOFYwVVhERVYyMVhjTXBSaE9GalUKN0NiTnQ3YXJLSU1RY3J0RVFSN1g1STdaYlFtcExLZzNQb0I5UUhCQ2pJSXVIWGdUeWs2SzR2OU9uanpKc1orTgptZHl1STlHOXkwQURiUllwY09UM2RuQk1FeTFUcGFxMGZPZldxTmhlNEYydzdXVGo2U2tZbEkyOFNURldBaWdhCnhPd3dZMFhqOVZBdVVpWC9INjlCS2NZT0owalhkSGNVcUdjbDRvbHg2MnJhTTV1WmZxZWpXcERHS1psUXpDZEYKR29vU2syNlNzcGlaMkljT3dvZXB6MUNWQ00wOEd2UkhFVWNTYTVaaEJacEM1Q2dtaHFMUWhQUXZLeXBYM0FzNgo1a29nOSthUndTS3FLSUw5ODM5YTZCSUx3VzVMM1VTVUxyR0J0alk4c2ZiWlVJbm5TTzhRREQwdHNVbWZGYWRJCk5Lc0ZjamhveWdhVEd2WFh1SXc5WDVJcEFrY1dXNnFBQWsrNE1jOTk5ZVZHZWoxQlZrbDFlQ2JMbTdUUW4xVUQKcFNMb2tvOUFuRGZtVEUxUi9uWUw2QW9TUnh1SVVKUENtUVdvYnFKRlZzVUNBd0VBQWFOUU1FNHdIUVlEVlIwTwpCQllFRk5TL252TkE2TVUrUURTYmdaRnJTeWVxdDI3aE1COEdBMVVkSXdRWU1CYUFGTlMvbnZOQTZNVStRRFNiCmdaRnJTeWVxdDI3aE1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUdKVnk3Uk4KcUl5bFIyRTcyNkxkc044SWQ4MHBIM0oxNnVGSXhmeXpUZmtYL09HS2ZSUG1TbXZhRW9QMVR5eXIvYnFLTDBTWAp2VmpweHlmd3R0ZUV1NE5DZ3BScXl3NzRzQ1Q4WStzRzc2aHZwNzE3blNORUhnMzVRcEhjejBFWjFuMzF1TURSCmVkd2tzMHRUd250R3hHeW1YYmVJaW1uV3p5SW10T0FuRGNDelYzSStzRGNWN3hPVEJoc2hVd1c4dG1nTHBrU08KWllSUE1jamhFd0lrRXdaZ3lheFZmQko3dGNKN3dpYVlrZFpIWFA4TkpBNU42VHBGRUQ1em9UM2NDa0Myb0dVZwpRbm8rQUlBNW9KUzJVSUFka3BKMHl6ZEw5V1lITThlUUQrRnM3QWJnemU2Z1NSblNkWFFuTFN4M29sekNQTkthCnBRM25wVUxuU3hVZHA2S3JGVVBnVmJuV3hkQXhCclQzYzEwVDdXaXA0M1pRTUFqWE9MZ1o5SjgzdWQzT0x4elgKQ3p4MGZLS1ozM1kvRHZQSzJMY2ZydUVnQ1d4UWh3UUNnS3JrZFBuNjk1a0J1Y2NxU1YyMCthdjBIeVVQRWxObgpZRG9qRXF2dVh2bEwyTEk1ekkrNmVscHl2UTdyNnZ1S0ZnanlNcG9RMGJTVkFDUlZDdklqZi8vMDFocGVYclI0CmZtZlVyUEczbXNiTnJJakxtcm5ZSGNuQjkvVUE0ZWpDSTRXRWZzcENFcFJ0N0F1M2tsMi94Vk50cVhnT1MyTnAKTlIyeEYwQTdWRmd0YngyeDZ6dy9XVWtSSTR1Z0d1NzlOdDFPdk0rRC9YNzdKeWtOSWppekpGSGFGV0NPdWgzUQpqRjlGUjBuVGlHZ3R5SmtIdWJqS01kOFlCdTlTOXEwSGdHT20KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    service:
      name: webhook-server-service
      namespace: kubesphere-devops-system
      path: /validate-devops-kubesphere-io-v1alpha1-s2ibuilder
  failurePolicy: Fail
  name: vs2ibuilder.kb.io
  rules:
  - apiGroups:
    - devops.kubesphere.io
    apiVersions:
    - v1alpha1
    operations:
    - CREATE
    - UPDATE
    resources:
    - s2ibuilders
- clientConfig:
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZoekNDQTIrZ0F3SUJBZ0lKQUpieDVoc0JpM1pkTUEwR0NTcUdTSWIzRFFFQkN3VUFNRm94Q3pBSkJnTlYKQkFZVEFrRlZNUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEV6QVJCZ05WQkFNTUNrdFZRa1ZUVUVoRlVrVXdIaGNOTWpFd05ESTJNRFl3Ck9EUTRXaGNOTWpRd01qRTBNRFl3T0RRNFdqQmFNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0F3S1UyOXQKWlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNUk13RVFZRApWUVFEREFwTFZVSkZVMUJJUlZKRk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCjBKblhwL2VMVG5GTk5CeldsK2tGaXlqTEFmMHZVaFUzZFh2bFlKK3lUUWN6eDB1Y0hBR1k4bmJuaEI0OXM5dkgKejFUVjlBUDYwK0RISG1teTU3d2lNL202YnFQMWUwajJBYko0dnVvYXV2ZkVmVzZaalE0RmZjWUg4Vko4bnNrcwpaTmlKQUkvSFg0WTBpdHFXTkczMWZyb3ZqeGRKM1Q3RUpqd3p4clRNaVJ1UEw5WW1FcktEUWlTSXN1ZVBJNUwrCkNJZ0FQZFZWU2JGM3QraW9JWXlRWm01bDcvSFk3dXliWW42eDRBd04zU2dHOFYwVVhERVYyMVhjTXBSaE9GalUKN0NiTnQ3YXJLSU1RY3J0RVFSN1g1STdaYlFtcExLZzNQb0I5UUhCQ2pJSXVIWGdUeWs2SzR2OU9uanpKc1orTgptZHl1STlHOXkwQURiUllwY09UM2RuQk1FeTFUcGFxMGZPZldxTmhlNEYydzdXVGo2U2tZbEkyOFNURldBaWdhCnhPd3dZMFhqOVZBdVVpWC9INjlCS2NZT0owalhkSGNVcUdjbDRvbHg2MnJhTTV1WmZxZWpXcERHS1psUXpDZEYKR29vU2syNlNzcGlaMkljT3dvZXB6MUNWQ00wOEd2UkhFVWNTYTVaaEJacEM1Q2dtaHFMUWhQUXZLeXBYM0FzNgo1a29nOSthUndTS3FLSUw5ODM5YTZCSUx3VzVMM1VTVUxyR0J0alk4c2ZiWlVJbm5TTzhRREQwdHNVbWZGYWRJCk5Lc0ZjamhveWdhVEd2WFh1SXc5WDVJcEFrY1dXNnFBQWsrNE1jOTk5ZVZHZWoxQlZrbDFlQ2JMbTdUUW4xVUQKcFNMb2tvOUFuRGZtVEUxUi9uWUw2QW9TUnh1SVVKUENtUVdvYnFKRlZzVUNBd0VBQWFOUU1FNHdIUVlEVlIwTwpCQllFRk5TL252TkE2TVUrUURTYmdaRnJTeWVxdDI3aE1COEdBMVVkSXdRWU1CYUFGTlMvbnZOQTZNVStRRFNiCmdaRnJTeWVxdDI3aE1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUdKVnk3Uk4KcUl5bFIyRTcyNkxkc044SWQ4MHBIM0oxNnVGSXhmeXpUZmtYL09HS2ZSUG1TbXZhRW9QMVR5eXIvYnFLTDBTWAp2VmpweHlmd3R0ZUV1NE5DZ3BScXl3NzRzQ1Q4WStzRzc2aHZwNzE3blNORUhnMzVRcEhjejBFWjFuMzF1TURSCmVkd2tzMHRUd250R3hHeW1YYmVJaW1uV3p5SW10T0FuRGNDelYzSStzRGNWN3hPVEJoc2hVd1c4dG1nTHBrU08KWllSUE1jamhFd0lrRXdaZ3lheFZmQko3dGNKN3dpYVlrZFpIWFA4TkpBNU42VHBGRUQ1em9UM2NDa0Myb0dVZwpRbm8rQUlBNW9KUzJVSUFka3BKMHl6ZEw5V1lITThlUUQrRnM3QWJnemU2Z1NSblNkWFFuTFN4M29sekNQTkthCnBRM25wVUxuU3hVZHA2S3JGVVBnVmJuV3hkQXhCclQzYzEwVDdXaXA0M1pRTUFqWE9MZ1o5SjgzdWQzT0x4elgKQ3p4MGZLS1ozM1kvRHZQSzJMY2ZydUVnQ1d4UWh3UUNnS3JrZFBuNjk1a0J1Y2NxU1YyMCthdjBIeVVQRWxObgpZRG9qRXF2dVh2bEwyTEk1ekkrNmVscHl2UTdyNnZ1S0ZnanlNcG9RMGJTVkFDUlZDdklqZi8vMDFocGVYclI0CmZtZlVyUEczbXNiTnJJakxtcm5ZSGNuQjkvVUE0ZWpDSTRXRWZzcENFcFJ0N0F1M2tsMi94Vk50cVhnT1MyTnAKTlIyeEYwQTdWRmd0YngyeDZ6dy9XVWtSSTR1Z0d1NzlOdDFPdk0rRC9YNzdKeWtOSWppekpGSGFGV0NPdWgzUQpqRjlGUjBuVGlHZ3R5SmtIdWJqS01kOFlCdTlTOXEwSGdHT20KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    service:
      name: webhook-server-service
      namespace: kubesphere-devops-system
      path: /validate-devops-kubesphere-io-v1alpha1-s2ibuildertemplate
  failurePolicy: Fail
  name: s2ibuildertemplate.kb.io
  rules:
  - apiGroups:
    - devops.kubesphere.io
    apiVersions:
    - v1alpha1
    operations:
    - CREATE
    - UPDATE
    resources:
    - s2ibuildertemplates
- clientConfig:
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZoekNDQTIrZ0F3SUJBZ0lKQUpieDVoc0JpM1pkTUEwR0NTcUdTSWIzRFFFQkN3VUFNRm94Q3pBSkJnTlYKQkFZVEFrRlZNUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEV6QVJCZ05WQkFNTUNrdFZRa1ZUVUVoRlVrVXdIaGNOTWpFd05ESTJNRFl3Ck9EUTRXaGNOTWpRd01qRTBNRFl3T0RRNFdqQmFNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0F3S1UyOXQKWlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNUk13RVFZRApWUVFEREFwTFZVSkZVMUJJUlZKRk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCjBKblhwL2VMVG5GTk5CeldsK2tGaXlqTEFmMHZVaFUzZFh2bFlKK3lUUWN6eDB1Y0hBR1k4bmJuaEI0OXM5dkgKejFUVjlBUDYwK0RISG1teTU3d2lNL202YnFQMWUwajJBYko0dnVvYXV2ZkVmVzZaalE0RmZjWUg4Vko4bnNrcwpaTmlKQUkvSFg0WTBpdHFXTkczMWZyb3ZqeGRKM1Q3RUpqd3p4clRNaVJ1UEw5WW1FcktEUWlTSXN1ZVBJNUwrCkNJZ0FQZFZWU2JGM3QraW9JWXlRWm01bDcvSFk3dXliWW42eDRBd04zU2dHOFYwVVhERVYyMVhjTXBSaE9GalUKN0NiTnQ3YXJLSU1RY3J0RVFSN1g1STdaYlFtcExLZzNQb0I5UUhCQ2pJSXVIWGdUeWs2SzR2OU9uanpKc1orTgptZHl1STlHOXkwQURiUllwY09UM2RuQk1FeTFUcGFxMGZPZldxTmhlNEYydzdXVGo2U2tZbEkyOFNURldBaWdhCnhPd3dZMFhqOVZBdVVpWC9INjlCS2NZT0owalhkSGNVcUdjbDRvbHg2MnJhTTV1WmZxZWpXcERHS1psUXpDZEYKR29vU2syNlNzcGlaMkljT3dvZXB6MUNWQ00wOEd2UkhFVWNTYTVaaEJacEM1Q2dtaHFMUWhQUXZLeXBYM0FzNgo1a29nOSthUndTS3FLSUw5ODM5YTZCSUx3VzVMM1VTVUxyR0J0alk4c2ZiWlVJbm5TTzhRREQwdHNVbWZGYWRJCk5Lc0ZjamhveWdhVEd2WFh1SXc5WDVJcEFrY1dXNnFBQWsrNE1jOTk5ZVZHZWoxQlZrbDFlQ2JMbTdUUW4xVUQKcFNMb2tvOUFuRGZtVEUxUi9uWUw2QW9TUnh1SVVKUENtUVdvYnFKRlZzVUNBd0VBQWFOUU1FNHdIUVlEVlIwTwpCQllFRk5TL252TkE2TVUrUURTYmdaRnJTeWVxdDI3aE1COEdBMVVkSXdRWU1CYUFGTlMvbnZOQTZNVStRRFNiCmdaRnJTeWVxdDI3aE1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUdKVnk3Uk4KcUl5bFIyRTcyNkxkc044SWQ4MHBIM0oxNnVGSXhmeXpUZmtYL09HS2ZSUG1TbXZhRW9QMVR5eXIvYnFLTDBTWAp2VmpweHlmd3R0ZUV1NE5DZ3BScXl3NzRzQ1Q4WStzRzc2aHZwNzE3blNORUhnMzVRcEhjejBFWjFuMzF1TURSCmVkd2tzMHRUd250R3hHeW1YYmVJaW1uV3p5SW10T0FuRGNDelYzSStzRGNWN3hPVEJoc2hVd1c4dG1nTHBrU08KWllSUE1jamhFd0lrRXdaZ3lheFZmQko3dGNKN3dpYVlrZFpIWFA4TkpBNU42VHBGRUQ1em9UM2NDa0Myb0dVZwpRbm8rQUlBNW9KUzJVSUFka3BKMHl6ZEw5V1lITThlUUQrRnM3QWJnemU2Z1NSblNkWFFuTFN4M29sekNQTkthCnBRM25wVUxuU3hVZHA2S3JGVVBnVmJuV3hkQXhCclQzYzEwVDdXaXA0M1pRTUFqWE9MZ1o5SjgzdWQzT0x4elgKQ3p4MGZLS1ozM1kvRHZQSzJMY2ZydUVnQ1d4UWh3UUNnS3JrZFBuNjk1a0J1Y2NxU1YyMCthdjBIeVVQRWxObgpZRG9qRXF2dVh2bEwyTEk1ekkrNmVscHl2UTdyNnZ1S0ZnanlNcG9RMGJTVkFDUlZDdklqZi8vMDFocGVYclI0CmZtZlVyUEczbXNiTnJJakxtcm5ZSGNuQjkvVUE0ZWpDSTRXRWZzcENFcFJ0N0F1M2tsMi94Vk50cVhnT1MyTnAKTlIyeEYwQTdWRmd0YngyeDZ6dy9XVWtSSTR1Z0d1NzlOdDFPdk0rRC9YNzdKeWtOSWppekpGSGFGV0NPdWgzUQpqRjlGUjBuVGlHZ3R5SmtIdWJqS01kOFlCdTlTOXEwSGdHT20KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    service:
      name: webhook-server-service
      namespace: kubesphere-devops-system
      path: /validate-devops-kubesphere-io-v1alpha1-s2irun
  failurePolicy: Fail
  name: vs2irun.kb.io
  rules:
  - apiGroups:
    - devops.kubesphere.io
    apiVersions:
    - v1alpha1
    operations:
    - CREATE
    - UPDATE
    resources:
    - s2iruns
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  creationTimestamp: null
  name: manager-role
rules:
- apiGroups:
  - devops.kubesphere.io
  resources:
  - s2ibuilders
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - devops.kubesphere.io
  resources:
  - s2ibuilders/status
  verbs:
  - get
  - update
  - patch
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - devops.kubesphere.io
  resources:
  - s2iruns
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - devops.kubesphere.io
  resources:
  - s2iruns/status
  verbs:
  - get
  - update
  - patch
- apiGroups:
  - devops.kubesphere.io
  resources:
  - s2ibuildertemplates
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - ""
  resources:
  - pods
  verbs:
  - get
  - list
  - watch
  - update
  - patch
- apiGroups:
  - apps
  resources:
  - statefulsets
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
- apiGroups:
  - apps
  resources:
  - deployments
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
- apiGroups:
  - extensions
  resources:
  - deployments
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
- apiGroups:
  - ""
  resources:
  - secrets
  verbs:
  - get
- apiGroups:
  - ""
  resources:
  - serviceaccounts
  verbs:
  - get
  - list
  - watch
  - create
- apiGroups:
  - rbac.authorization.k8s.io
  resources:
  - rolebindings
  verbs:
  - get
  - list
  - watch
  - create
- apiGroups:
  - rbac.authorization.k8s.io
  resources:
  - roles
  verbs:
  - get
  - list
  - watch
  - create
- apiGroups:
  - ""
  resources:
  - namespaces
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - admissionregistration.k8s.io
  resources:
  - mutatingwebhookconfigurations
  - validatingwebhookconfigurations
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - secrets
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - services
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - deployments
  verbs:
  - get
  - list
  - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: proxy-role
rules:
- apiGroups:
  - authentication.k8s.io
  resources:
  - tokenreviews
  verbs:
  - create
- apiGroups:
  - authorization.k8s.io
  resources:
  - subjectaccessreviews
  verbs:
  - create
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  creationTimestamp: null
  name: manager-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: manager-role
subjects:
- kind: ServiceAccount
  name: default
  namespace: kubesphere-devops-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: proxy-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: proxy-role
subjects:
- kind: ServiceAccount
  name: default
  namespace: kubesphere-devops-system
---
apiVersion: v1
data:
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZoekNDQTIrZ0F3SUJBZ0lKQUpieDVoc0JpM1pkTUEwR0NTcUdTSWIzRFFFQkN3VUFNRm94Q3pBSkJnTlYKQkFZVEFrRlZNUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEV6QVJCZ05WQkFNTUNrdFZRa1ZUVUVoRlVrVXdIaGNOTWpFd05ESTJNRFl3Ck9EUTRXaGNOTWpRd01qRTBNRFl3T0RRNFdqQmFNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0F3S1UyOXQKWlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNUk13RVFZRApWUVFEREFwTFZVSkZVMUJJUlZKRk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCjBKblhwL2VMVG5GTk5CeldsK2tGaXlqTEFmMHZVaFUzZFh2bFlKK3lUUWN6eDB1Y0hBR1k4bmJuaEI0OXM5dkgKejFUVjlBUDYwK0RISG1teTU3d2lNL202YnFQMWUwajJBYko0dnVvYXV2ZkVmVzZaalE0RmZjWUg4Vko4bnNrcwpaTmlKQUkvSFg0WTBpdHFXTkczMWZyb3ZqeGRKM1Q3RUpqd3p4clRNaVJ1UEw5WW1FcktEUWlTSXN1ZVBJNUwrCkNJZ0FQZFZWU2JGM3QraW9JWXlRWm01bDcvSFk3dXliWW42eDRBd04zU2dHOFYwVVhERVYyMVhjTXBSaE9GalUKN0NiTnQ3YXJLSU1RY3J0RVFSN1g1STdaYlFtcExLZzNQb0I5UUhCQ2pJSXVIWGdUeWs2SzR2OU9uanpKc1orTgptZHl1STlHOXkwQURiUllwY09UM2RuQk1FeTFUcGFxMGZPZldxTmhlNEYydzdXVGo2U2tZbEkyOFNURldBaWdhCnhPd3dZMFhqOVZBdVVpWC9INjlCS2NZT0owalhkSGNVcUdjbDRvbHg2MnJhTTV1WmZxZWpXcERHS1psUXpDZEYKR29vU2syNlNzcGlaMkljT3dvZXB6MUNWQ00wOEd2UkhFVWNTYTVaaEJacEM1Q2dtaHFMUWhQUXZLeXBYM0FzNgo1a29nOSthUndTS3FLSUw5ODM5YTZCSUx3VzVMM1VTVUxyR0J0alk4c2ZiWlVJbm5TTzhRREQwdHNVbWZGYWRJCk5Lc0ZjamhveWdhVEd2WFh1SXc5WDVJcEFrY1dXNnFBQWsrNE1jOTk5ZVZHZWoxQlZrbDFlQ2JMbTdUUW4xVUQKcFNMb2tvOUFuRGZtVEUxUi9uWUw2QW9TUnh1SVVKUENtUVdvYnFKRlZzVUNBd0VBQWFOUU1FNHdIUVlEVlIwTwpCQllFRk5TL252TkE2TVUrUURTYmdaRnJTeWVxdDI3aE1COEdBMVVkSXdRWU1CYUFGTlMvbnZOQTZNVStRRFNiCmdaRnJTeWVxdDI3aE1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUdKVnk3Uk4KcUl5bFIyRTcyNkxkc044SWQ4MHBIM0oxNnVGSXhmeXpUZmtYL09HS2ZSUG1TbXZhRW9QMVR5eXIvYnFLTDBTWAp2VmpweHlmd3R0ZUV1NE5DZ3BScXl3NzRzQ1Q4WStzRzc2aHZwNzE3blNORUhnMzVRcEhjejBFWjFuMzF1TURSCmVkd2tzMHRUd250R3hHeW1YYmVJaW1uV3p5SW10T0FuRGNDelYzSStzRGNWN3hPVEJoc2hVd1c4dG1nTHBrU08KWllSUE1jamhFd0lrRXdaZ3lheFZmQko3dGNKN3dpYVlrZFpIWFA4TkpBNU42VHBGRUQ1em9UM2NDa0Myb0dVZwpRbm8rQUlBNW9KUzJVSUFka3BKMHl6ZEw5V1lITThlUUQrRnM3QWJnemU2Z1NSblNkWFFuTFN4M29sekNQTkthCnBRM25wVUxuU3hVZHA2S3JGVVBnVmJuV3hkQXhCclQzYzEwVDdXaXA0M1pRTUFqWE9MZ1o5SjgzdWQzT0x4elgKQ3p4MGZLS1ozM1kvRHZQSzJMY2ZydUVnQ1d4UWh3UUNnS3JrZFBuNjk1a0J1Y2NxU1YyMCthdjBIeVVQRWxObgpZRG9qRXF2dVh2bEwyTEk1ekkrNmVscHl2UTdyNnZ1S0ZnanlNcG9RMGJTVkFDUlZDdklqZi8vMDFocGVYclI0CmZtZlVyUEczbXNiTnJJakxtcm5ZSGNuQjkvVUE0ZWpDSTRXRWZzcENFcFJ0N0F1M2tsMi94Vk50cVhnT1MyTnAKTlIyeEYwQTdWRmd0YngyeDZ6dy9XVWtSSTR1Z0d1NzlOdDFPdk0rRC9YNzdKeWtOSWppekpGSGFGV0NPdWgzUQpqRjlGUjBuVGlHZ3R5SmtIdWJqS01kOFlCdTlTOXEwSGdHT20KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUUwVENDQXJtZ0F3SUJBZ0lKQU9vSkIweTN6NmJNTUEwR0NTcUdTSWIzRFFFQkN3VUFNRm94Q3pBSkJnTlYKQkFZVEFrRlZNUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEV6QVJCZ05WQkFNTUNrdFZRa1ZUVUVoRlVrVXdIaGNOTWpFd05ESTJNRFl4Ck1qVTFXaGNOTXpFd05ESTBNRFl4TWpVMVdqQWhNUjh3SFFZRFZRUUREQlozWldKb2IyOXJMWE5sY25abGNpMXoKWlhKMmFXTmxNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXg3OGQySklZZjBFWApUTzRmTjNWSHFKaVFVbG5tWU1WY0dnb0lLL1RlSEkwaXJyQ0tOMXduVGZ4UE5FRTQvVzB5dkxBUktwRitoemYzCnIzVldyMEFiN3BLcjhVRUFZdFRYUnowWWR3TC9FazRYQkNYMDcvbkdhUE0vbFJnZzhVVzA1YWVTZytWck1TVngKdDUzaGlJUE1ZMytKZE05dEVJNkRKYkxzYTJFQ05RL1ZVOVVoS1hkOFlVVHhFY0tEa0JXbnFUaWloVlRrMFJhZgpBdklVY0lJd3U3K216MCt0bE4vWUhNeGZ2Sytwa0phZUE5MkhPblRpZk1HUStZYnBWOFl3VXBZZmk3MU1KYnVvCjVBQVd1RGwwR2ZvaWF3a0lVelQySGw3QkRDckhublo1cDdMYXRMY0RFcUhBTkdSQmxOMUc2b3hGVlR0UWRWdEEKM201M2kvM1krUUlEQVFBQm80SFNNSUhQTUlITUJnTlZIUkVFZ2NRd2djR0NGbmRsWW1odmIyc3RjMlZ5ZG1WeQpMWE5sY25acFkyV0NMM2RsWW1odmIyc3RjMlZ5ZG1WeUxYTmxjblpwWTJVdWEzVmlaWE53YUdWeVpTMWtaWFp2CmNITXRjM2x6ZEdWdGdqTjNaV0pvYjI5ckxYTmxjblpsY2kxelpYSjJhV05sTG10MVltVnpjR2hsY21VdFpHVjIKYjNCekxYTjVjM1JsYlM1emRtT0NRWGRsWW1odmIyc3RjMlZ5ZG1WeUxYTmxjblpwWTJVdWEzVmlaWE53YUdWeQpaUzFrWlhadmNITXRjM2x6ZEdWdExuTjJZeTVqYkhWemRHVnlMbXh2WTJGc01BMEdDU3FHU0liM0RRRUJDd1VBCkE0SUNBUUFHOXRkRnJVeFIwMmtnZC9xU0cvcCtzUlFET1lwRzVxcVpnRVJoeFhFMzJHYjRvN3JKYnRaMlp2Y2IKU1dpRjFQUDRRbk1ldnljWEQxZFlzQ1NkVnpHRnNEQTBmY3l1RjFzS2MzMmxqaGZUVERteW16bUVKUU5ZWFB4MgpyenFmOXUrNDgzbi8rZ0ZnTERleHVrWEtKNStwOWd6WExlUFNad0UrSEVnWmROcGxTNWtmTVIrVXZwbytlTWhjCjZ5bjVhQkpXTHNndktUeDdHYXIyN1BkTTI5N3ZocFBGY3hTYkR5a0hKTkR3MlUrdXh3d0lSNVNNMVBtV2h1b2oKb3oxVU8zeGVMS1BQbHVVSC9nSktHUnQ3cnYzV0RWUjF1MHlGRkZHTHVtZDJTQUtqYXlUUk9xOW5Sek9OamVHSApKZUM3ZHJuS2NudnVuYVpXMjdOaUN6ZmhhcTBuZVhoYUdFT3BjZGFZQlZzME1aZm5iMnVhQVFGeTBQM0haNlVJClFJU09wUS82UHJ2NmRnaGVVMGhIc2JqaEhYOFkxWi9FcE5zNm5TNmkyVUNkZStSYUVnSzF4eG5MdEJMN3I3NmQKRUJ2cEM0OUNoUlowcjdVNm04TEo2eWpiTFRNRVBWcU9EY3haS245YW9YSTFUQ05nelc3UVV2NWI1cU1CMm9PcApxMWxQU3h4RVFib2Vsc2N6U3hXSzZVNHV3Y3lHdVZOeW1CZ2ZQTnVjN3d3Y1BCTGJ1YWhVbzZZdEZOa3kyT0t6CnAyaHZrakRpeERiR1MzU3ZpNDVlRXBCbklyY21hK2ZhblBLSkNZVVpiaVJJb0Qra0E4U3M1bVpndGFoM0xjclEKVThVVVI2ME42TEo1Mm0yaWsvekhoK3AzMWloaEN6N0Y3SldxN2l0TnBiakZjYjlUNmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBeDc4ZDJKSVlmMEVYVE80Zk4zVkhxSmlRVWxubVlNVmNHZ29JSy9UZUhJMGlyckNLCk4xd25UZnhQTkVFNC9XMHl2TEFSS3BGK2h6ZjNyM1ZXcjBBYjdwS3I4VUVBWXRUWFJ6MFlkd0wvRWs0WEJDWDAKNy9uR2FQTS9sUmdnOFVXMDVhZVNnK1ZyTVNWeHQ1M2hpSVBNWTMrSmRNOXRFSTZESmJMc2EyRUNOUS9WVTlVaApLWGQ4WVVUeEVjS0RrQlducVRpaWhWVGswUmFmQXZJVWNJSXd1NyttejArdGxOL1lITXhmdksrcGtKYWVBOTJICk9uVGlmTUdRK1licFY4WXdVcFlmaTcxTUpidW81QUFXdURsMEdmb2lhd2tJVXpUMkhsN0JEQ3JIbm5aNXA3TGEKdExjREVxSEFOR1JCbE4xRzZveEZWVHRRZFZ0QTNtNTNpLzNZK1FJREFRQUJBb0lCQUVGNVNlVTFia1k0SmRVWApzSy9UQjV3aDloeW9UeldsTzUxbGNHeElKWTRpVFI0SnpDUjlWbnpmbVc2OWVsckhzbnZiRXFWcmI1Z1BKbWNqCkJUa0l3SjhoQUs5aDZTaDhMOXl3RUJiaXFvMXJmMnZpclRrRUhKOUdMSzlJYTNQcXIzTWZ6SXpqWkpHRmZwTDcKYzNQMkQ4Y0ZoUjcrNXZjb1g2QzUxM2tUSVZBV3ZXQjUrTGhUTHFJSDB6Qk5WWTRMOFk3RjlUbmdFTVdGdVFuWgp4Q2VzRlR6QlpmYUN0VDQySVEzd2pKVlBUcEZmbDIrSE5kTVdjdFZ3dlRlRWdVRUVzbjVkdHRDUDBBNTg1OWdBCnZ6b2tvVEhzR0JLWDVpeGNTYkNpd3FlUzkvemFOaXRuNHdVVDZXeUNPbWFOMmRJejlYYXJEb0hudHFSb2N3SHMKa0FRQnhna0NnWUVBL05pQ1hvbmttZEtidDJKaS92cThVZ2VvSi9tbmFzT0h5MjUwczFXeE93YmlQdnhvZ2JrZQpjTUdPL3lnVW5ZVzMyaXhleWZQbHNIUEtZL1c0MytjcmYvTkVyMGNXaVJUTTVQeFpRdmFwaUZJMmZJeXRzYmU3CmpHNDRKUHlrdnRwNHFlaUtxU24xTGUxMENzV21MWXJxb0x3WlVVY1VmTW4wQWRJb3FpUHhTRThDZ1lFQXlqMEgKZW4rVy96RHd6cy95cFhVdDNienVkSzg0OGZGQzNIT0tyYmF2NmtleXI4ZU0wZVgyd0xWNnlvQUR0QVFISjJIMgpYcFI0R2ZDMUxBTENhNnBDVVpKOHJ0cE1DdklVZzZOSityemVYY1YxK1NqdTlOWm85NE0rQy9zT0F3d3VsbHYxCnFScnc4ajNObVgxcjBxK0dUZDZOTkV6TzhkZUJ3YTFZNnZvL3NEY0NnWUVBdEcwVGFyN2ZmOXpIL1c2WjBmVysKV0pMYUxkeDYyVGE2T2pLUjJENzMvM1VFRVlvd1VSRjJaV1BaMUw0WEorajVyeGdtYzlvMU4xc0pPNWRtMjIrcwpuTnROVWY1YVdHdWRZbkdvaUo1WGo4MkswQW5iRUl4WnF2WWozbERpaHNhRGdFdE9WelIzbnRScEVCN0dYSTFhCnJHUk5kTEJTTUZJMGF2QTYwRjVobVFVQ2dZQmp2UDl3TVhhRmVseDRrbU9ucUFlcndKNlZXMGtwUVFQcGR1NGcKeCtVd0ZKWVNUTWF0U2MyTXNyUFJKSnN1NzRHYnNadHdmNlpQbkwrczZkdDZmNmhmVkhBN1I1dVRGbHA1cFZFNQo0R1dHTjNqOEhXemp3TTVacXhjeGoyb1VwTEJoSlE4ZGpCVGlVd3FQdFNRMDdxMjh2NUpDQmROVndDUFZJYW1sCmtTOVJ0d0tCZ0JaMzlBN0h2dU9IdElwQTJjSDE1dk81ZnZWdzVISERuV2Y3a3dRSkF2OHNVWXdpbGpneC85L0cKUFpoaWp3UG51VGJCQ0xaOFlrSEdxdFVhVDFEdjgxZGhjdzQ0Ulk3eWtCcFVYTTJsRkVvV3lPR3FTbHBZeUtlVgpaRTkwSXhxaEd0Q3NqNlllZ0h5eEx6c2UyZ2RGTjFhMmhGaXJrcVdHOC9tN0hKZmg5NkZ6Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  name: s2i-webhook-server-cert
  namespace: kubesphere-devops-system
type: Opaque
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    prometheus.io/port: "8080"
    prometheus.io/scheme: http
    prometheus.io/scrape: "true"
  labels:
    app: s2i-metrics
    control-plane: s2i-controller-manager
    controller-tools.k8s.io: "1.0"
  name: s2ioperator-metrics-service
  namespace: kubesphere-devops-system
spec:
  ports:
  - name: http
    port: 8080
    targetPort: 8080
  selector:
    control-plane: s2i-controller-manager
    controller-tools.k8s.io: "1.0"
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: s2i-trigger-service
    control-plane: s2i-controller-manager
    controller-tools.k8s.io: "1.0"
  name: s2ioperator-trigger-service
  namespace: kubesphere-devops-system
spec:
  ports:
  - name: http
    port: 8081
    targetPort: 8081
  selector:
    control-plane: s2i-controller-manager
    controller-tools.k8s.io: "1.0"
---
apiVersion: v1
kind: Service
metadata:
  name: webhook-server-service
  namespace: kubesphere-devops-system
spec:
  ports:
  - port: 443
    targetPort: 443
  selector:
    control-plane: s2i-controller-manager
---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  labels:
    control-plane: s2ioperator
    controller-tools.k8s.io: "1.0"
  name: s2ioperator
  namespace: kubesphere-devops-system
spec:
  selector:
    matchLabels:
      control-plane: s2i-controller-manager
      controller-tools.k8s.io: "1.0"
  serviceName: s2ioperator
  template:
    metadata:
      annotations:
        prometheus.io/scrape: "true"
      labels:
        control-plane: s2i-controller-manager
        controller-tools.k8s.io: "1.0"
    spec:
      containers:
      - command:
        - /manager
        env:
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        - name: S2IIMAGENAME
          value: "{{ s2irun_repo }}:{{ s2irun_tag }}"
        image: "{{ s2ioperator_repo }}:{{ s2ioperator_tag }}"
        imagePullPolicy: IfNotPresent
        name: manager
        ports:
        - containerPort: 8080
          name: metrics
          protocol: TCP
        - containerPort: 8081
          name: trigger
          protocol: TCP
        resources:
          limits:
            cpu: 100m
            memory: 500Mi
          requests:
            cpu: 100m
            memory: 20Mi
        volumeMounts:
        - mountPath: /tmp/k8s-webhook-server/serving-certs
          name: cert
          readOnly: true
      terminationGracePeriodSeconds: 10
      volumes:
      - name: cert
        secret:
          defaultMode: 420
          secretName: s2i-webhook-server-cert
